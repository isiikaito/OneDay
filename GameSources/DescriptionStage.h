/*!
@file DescriptionStage.h
@brief
*/

#pragma once
#include "stdafx.h"

namespace basecross {

	enum class PageNumber {
		farst,
		second,
		three,
		four
	};


	class DescriptionSpriteFront;
	//--------------------------------------------------------------------------------------
	//	説明ステージクラス
	//--------------------------------------------------------------------------------------
	class DescriptionStage : public Stage {
	private:
		//--------------------------------------------------------------------------------------
		/*!
		@brief　入力ハンドラー
		*/
		//--------------------------------------------------------------------------------------
		InputHandler<DescriptionStage> m_InputHandler;
		InputHandlerCrossKey<DescriptionStage> m_InputHandlerCrossKey;//入力ハンドラー

		shared_ptr<SoundItem>m_BGM;//!音
		float m_keyTime;//!カギをランダムに配置する時間
		int m_descriptionStageNumber;//!説明書のページ数
		int m_keyNumber;//!カギの配置が読み込んでいるCSVの数字
		float m_timeItTakesToTurnThePage;//!ページをめくっている時間
		bool m_IsmoveForwardInaPage;//!ページを進めているかどうか
		bool m_IspageBackTo;//!ページを戻しているかどうか
		std::vector<shared_ptr<DescriptionSpriteFront>> DescriptionSprites;
	    public:

		//--------------------------------------------------------------------------------------
		/*!
		@brief　ビューの作成
		*/
		//--------------------------------------------------------------------------------------
		void CreateViewLight();

		//--------------------------------------------------------------------------------------
		/*!
		@brief　表の説明書のスプライトの作成
		*/
		//--------------------------------------------------------------------------------------
		void CreateDescriptionSpriteFront();

	
		
		//--------------------------------------------------------------------------------------
		/*!
		@brief　BGM作成
		*/
		//--------------------------------------------------------------------------------------
		void CreatePlayBGM();

		//--------------------------------------------------------------------------------------
		/*!
		@brief　コンストラクタ
		*/
		//--------------------------------------------------------------------------------------
		DescriptionStage() :Stage(), m_IsmoveForwardInaPage(false),m_IspageBackTo(false), m_timeItTakesToTurnThePage(0.0f), m_descriptionStageNumber(0), m_keyTime(0.0f), m_keyNumber(0) {}

		//--------------------------------------------------------------------------------------
		/*!
		@brief　デストラクタ
		*/
		//--------------------------------------------------------------------------------------
		virtual ~DescriptionStage() {}

		//--------------------------------------------------------------------------------------
		/*!
		@brief　初期化
		*/
		//--------------------------------------------------------------------------------------
		virtual void OnCreate()override;

		//--------------------------------------------------------------------------------------
		/*!
		@brief　更新
		*/
		//--------------------------------------------------------------------------------------
		virtual void OnUpdate()override;

		//--------------------------------------------------------------------------------------
		/*!
		@brief 削除
		*/
		//--------------------------------------------------------------------------------------
		virtual void OnDestroy() override;

		//--------------------------------------------------------------------------------------
		/*!
		@brief　Aボタンの処理
		*/
		//--------------------------------------------------------------------------------------
		void OnPushA();

		//--------------------------------------------------------------------------------------
		/*!
		@brief　十字キーのボタンの処理
		*/
		//--------------------------------------------------------------------------------------
		void PushHandleCrossRight();

		//--------------------------------------------------------------------------------------
		/*!
		@brief　十字キーのボタンの処理
		*/
		//--------------------------------------------------------------------------------------
		void PushHandleCrossLeft();

		//--------------------------------------------------------------------------------------
		/*!
		@brief　ページを進める処理
		*/
		//--------------------------------------------------------------------------------------
		void MoveForwardInaPage();

		//--------------------------------------------------------------------------------------
		/*!
		@brief　ページを戻す処理
		*/
		//--------------------------------------------------------------------------------------
		void PageBackTo();

		
		
	};


}
//end basecross

